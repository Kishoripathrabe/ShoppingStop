<div>
  <div class="card m-4" *ngFor="let singleAdd of addArr; let i = index"
    [ngClass]="{'selected-address': singleAdd?._id == selectedAddress?._id}" (click)="selectAddress(singleAdd)">
    <div class="card-header d-flex justify-content-between align-items-center">
      <span>Address {{i+1}}</span>
      <span>
        <button (click)="toggleEditMode(singleAdd,$event)"
          class="btn btn-sm btn-secondary"><mat-icon>{{singleAdd.isEditMode?"close":"edit"}}</mat-icon>
        </button> &nbsp;
        <button (click)="deleteAddress(singleAdd)" class="btn btn-sm btn-danger"><mat-icon>delete</mat-icon>
        </button>
      </span>
    </div>
    <div class="card-body">
      <ul class="list-group">
        <li class="row m-2">
          <strong class="col-2">Full Name:</strong>
          <span class="col-2" *ngIf="!singleAdd.isEditMode">{{ singleAdd?.full_name }}</span>
          <input class="col form-control" *ngIf="singleAdd.isEditMode" [(ngModel)]="singleAdd.full_name" />
        </li>
        <li class="row m-2">
          <strong class="col-2">Mobile Number:</strong>
          <span class="col-2" *ngIf="!singleAdd.isEditMode">{{ singleAdd?.phone_number }}</span>
          <input class="col form-control" *ngIf="singleAdd.isEditMode" [(ngModel)]="singleAdd.phone_number" />
        </li>
        <li class="row m-2">
          <strong class="col-2">Address line 1:</strong>
          <span class="col-2" *ngIf="!singleAdd.isEditMode">{{ singleAdd?.address_line1 }}</span>
          <input class="col form-control" *ngIf="singleAdd.isEditMode" [(ngModel)]="singleAdd.address_line1" />
        </li>
        <li class="row m-2">
          <strong class="col-2">Address line 2:</strong>
          <span class="col-2" *ngIf="!singleAdd.isEditMode">{{ singleAdd?.address_line2 }}</span>
          <input class="col form-control" *ngIf="singleAdd.isEditMode" [(ngModel)]="singleAdd.address_line2" />
        </li>
        <li class="row m-2">
          <strong class="col-2">City:</strong>
          <span class="col-2" *ngIf="!singleAdd.isEditMode">{{ singleAdd?.city }}</span>
          <input class="col form-control" *ngIf="singleAdd.isEditMode" [(ngModel)]="singleAdd.city" />
        </li>
        <li class="row m-2">
          <strong class="col-2">State:</strong>
          <span class="col-2" *ngIf="!singleAdd.isEditMode">{{ singleAdd?.state }}</span>
          <input class="col form-control" *ngIf="singleAdd.isEditMode" [(ngModel)]="singleAdd.state" />
        </li>
        <li class="row m-2">
          <strong class="col-2">PinCode:</strong>
          <span class="col-2" *ngIf="!singleAdd.isEditMode">{{ singleAdd?.pincode }}</span>
          <input class="col form-control" *ngIf="singleAdd.isEditMode" [(ngModel)]="singleAdd.pincode" />
        </li>
      </ul>
      <button class="btn col-12 btn-success mt-3" *ngIf="singleAdd.isEditMode" (click)="saveEditedAddress(singleAdd)">Save
        Changes</button>
    </div>
  </div>
  <div class="d-flex justify-content-center">
    <button class="btn btn-sm btn-outline-primary col-10 mb-3" *ngIf="!addformVisible" (click)="toggleAddNewBtn()">Add
      New Address</button>
  </div>

  <div *ngIf = "addformVisible">
    <div>
      <div class="card">
        <div class="card-header d-flex justify-content-between align-items-center">
          <span>New Address </span>
          <mat-icon (click)="toggleAddNewBtn()">close</mat-icon>
        </div>
        <div class="card-body">
          <ul class="list-group">
            <li class="row m-2">
              <strong class="col-2">Full Name:</strong>
              <input class="col form-control" [(ngModel)]="newAdd.full_name" />
            </li>
            <li class="row m-2">
              <strong class="col-2">Mobile Number:</strong>
              <input class="col form-control" [(ngModel)]="newAdd.phone_number" />
            </li>
            <li class="row m-2">
              <strong class="col-2">Address line 1:</strong>
              <input class="col form-control" [(ngModel)]="newAdd.address_line1" />
            </li>
            <li class="row m-2">
              <strong class="col-2">Address line 2:</strong>
              <input class="col form-control" [(ngModel)]="newAdd.address_line2" />
            </li>
            <li class="row m-2">
              <strong class="col-2">City:</strong>
              <input class="col form-control" [(ngModel)]="newAdd.city" />
            </li>
            <li class="row m-2">
              <strong class="col-2">State:</strong>
              <input class="col form-control" [(ngModel)]="newAdd.state" />
            </li>
            <li class="row m-2">
              <strong class="col-2">PinCode:</strong>
              <input class="col form-control" [(ngModel)]="newAdd.pincode" />
            </li>
          </ul>
          <button class="btn col-12 btn-success mt-3" (click)="saveAddress()">Add Address</button>
        </div>
      </div>
    </div>
  </div>
  <hr>
  <div class="d-flex justify-content-end align-items-center">
    <button class=" btn btn-lg btn-warning" (click)="proceed()">Proceed</button>
  </div>
  <hr>
  <br>
</div>